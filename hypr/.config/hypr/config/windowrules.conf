# Hyprland Window Rules - Minimal Tag-Based (0.5.3+)
# Reference: https://wiki.hyprland.org/Configuring/Window-Rules/

# --- DIMENSIONS ---
$xlarge = (monitor_w*0.85) (monitor_h*0.85)
$large  = (monitor_w*0.60) (monitor_h*0.60)
$medium = (monitor_w*0.45) (monitor_h*0.45)
$small  = (monitor_w*0.30) (monitor_h*0.30)
$tiny   = (monitor_w*0.15) (monitor_h*0.15)

### REGEX DEFINITIONS ###
# Class patterns
$TINY_CLASS   = (?i)^(gnome-calculator|org\.gnome\.calculator)$
$SMALL_CLASS  = ^org\.kde\.kdeconnect\.handler$
$LARGE_CLASS  = ^(com\.saivert\.pwvucontrol|org\.pulseaudio\.pavucontrol|pavucontrol|gtk-pipe-viewer|blueman-manager|nm-connection-editor|org\.gnome\.DiskUtility|xdg-desktop-portal.*|polkit.*|zenity|waypaper|io\.missioncenter\.MissionCenter|mpv|com\.gabm\.satty)$

# Title patterns
$SMALL_TITLE  = ^(Do you want to retry your last request\?|Authentication Required)$
$MEDIUM_TITLE = ^(Install from VSIX|Downloading Certificate|Open File|Save File|Save As|Open Folder|File Upload|Enter name of file to save to\.\.|About Zen Browser|Steam - Self Updater|Steam Settings|Select File containing CA certificate)$
$LARGE_TITLE  = ^(OpenRGB|Network Connections|imv|nemo|ncmpcpp|Create or select new Steam library folder)$

# Special patterns
$PIP_TITLE      = (?i)^picture.?in.?picture
$BLENDER_SPLASH = ^Blender$

### GLOBAL POLICIES ###
windowrule = suppress_event maximize, match:class .*
windowrule = idle_inhibit fullscreen, match:class .*
windowrule = no_shadow on, match:float no
windowrule = no_blur on, no_anim on, match:fullscreen yes
windowrule = fullscreen on, immediate on, match:class ^steam_app_

### WORKSPACE AUTO-LAUNCH ###
workspace = 1, on-created-empty:zen-browser
workspace = 2, on-created-empty:chromium
workspace = 3, on-created-empty:zeditor
workspace = special:vesktop, on-created-empty:vesktop
workspace = special:telegram, on-created-empty:Telegram
workspace = special:slack, on-created-empty:slack
workspace = special:terminal, on-created-empty:xdg-terminal-exec

### WORKSPACE ASSIGNMENTS ###
windowrule = workspace 1, match:class ^(zen-browser|zen)$
windowrule = workspace 2, match:class ^chromium$
windowrule = workspace 3, match:class (?i)^(code|cursor|antigravity)(-url-handler)?$
windowrule = workspace 5, match:class ^(qbittorrent|steam_app_)
windowrule = workspace 7, match:class ^thunderbird$
windowrule = workspace special:telegram, match:class (?i)^(org\.telegram\.desktop|telegram(-desktop)?)$
windowrule = workspace special:vesktop, match:class ^vesktop$
windowrule = workspace special:slack, match:class (?i)^slack(-desktop)?$

### FLOAT RULES ###
# Tiny & Small
windowrule = float on, center on, size $tiny, match:class $TINY_CLASS
windowrule = float on, center on, size $small, match:class $SMALL_CLASS
windowrule = float on, center on, size $small, match:class (?i)^(code|cursor|antigravity)$, match:title $SMALL_TITLE

# Medium
windowrule = float on, center on, size $medium, match:title $MEDIUM_TITLE

# Large
windowrule = float on, center on, size $large, match:class $LARGE_CLASS
windowrule = float on, center on, size $large, match:title $LARGE_TITLE

# XLarge
windowrule = float on, center on, size $xlarge, match:title .*Global Updates.*

# Special cases
windowrule = float on, size $large, match:class ^blender$, match:initial_title $BLENDER_SPLASH
windowrule = float on, pin on, size $large, move (monitor_w-window_w-(monitor_w*0.02)) (monitor_h-window_h-(monitor_h*0.02)), match:title $PIP_TITLE
